
---
layout: "base.njk"
title: "Square shooter"
---
      <br><br><br>
      <div id="container">
            <h1>Square shooter</h1>
    <div id="canvas">
        <div id="player"></div>
    </div> 
    <footer>&copy; Banana News 2024</footer>
    <!--请不要删除这行代码：-->
    <script src="scripts/main.js"></script>
    <!---->
    <!--请不要删除以下代码行-->
    <script src="scripts/topnav.js"></script>
    <!---->
    <script src="scripts/search.js"></script>
    <script>
      const searchinput = document.getElementById('searchbar');
      const divToShow = document.getElementById('div-to-show');
      const container = document.getElementById('container');
      const topnav = document.getElementById('myTopnav');

      function showSearch(){
        container.style.filter = 'blur(10px)';
        topnav.style.backgroundColor = '#444444';
        divToShow.style.display = 'block';
        divToShow.style.animation = 'slideDown 0.5s ease forwards';
        setTimeout(function(){
          searchinput.focus();
        }, 500);
      }

      const topContainer = document.getElementById('top-container');
      topContainer.addEventListener('mouseleave', divUp);

      function divUp() {
        console.log('mouse has left both elements.');
        topnav.style.backgroundColor = '#555555';
        divToShow.style.animation = 'slideUp 0.5s ease forwards';
        container.style.filter = 'none';
      }
    </script>

  </div>

  <script src="scripts/news.js"></script>
  <script src="scripts/modal.js"></script><script>
        const player = document.getElementById("player");
        let playerX = 200;
        let playerY = 400;
        player.style.left = playerX + "px";
        player.style.top = playerY + "px";

        const bullets = [];

        function movePlayer(event) {
            const key = event.key;
            if (key === "ArrowLeft") {
                playerX -= 15;
            } else if (key === "ArrowRight") {
                playerX += 15;
            }
            player.style.left = playerX + "px";
        }

        function shootBullet() {
            const bullet = document.createElement("div");
            bullet.className = "bullet";
            bullet.style.left = playerX + 20 + "px";
            bullet.style.top = playerY + "px";
            document.body.appendChild(bullet);
            bullets.push(bullet);
        }

        function moveBullets() {
            for (const bullet of bullets) {
                const bulletY = parseInt(bullet.style.top);
                if (bulletY > 0) {
                    bullet.style.top = bulletY - 30 + "px";
                } else {
                    document.body.removeChild(bullet);
                    bullets.splice(bullets.indexOf(bullet), 1);
                }
            }
        }

        document.addEventListener("keydown", movePlayer);
        document.addEventListener("keydown", (event) => {
            if (event.key === " ") {
                shootBullet();
            }
        });

        setInterval(moveBullets, 50);
    </script></body>
</html>
